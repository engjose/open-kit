## 1.进程查看

进程的查看命令一般可以通过三条命令提现: ps, pstree, top, 

- ps: 其中p:process表示进程的意思, s:status表示状态的意思.

```bash
1.查看当前shell下的进程
# ps
PID TTY          TIME CMD
12317 pts/0    00:00:00 bash
12487 pts/0    00:00:00 ps

(1.) PID: 进程在该操作系统中的唯一标识
(2.) 注意: ps没有任何参数的时候只是代表当前shell下面有哪些进程
(3.) CMD: 命令

2.查看其它进程
# ps -e

3.显示更多信息, 一般添加参数-f(经常使用)
# ps -ef
UID        PID  PPID  C STIME TTY          TIME CMD
root         1     0  0 10:17 ?        00:00:01 /usr/lib/systemd/systemd --switched-root --system --deserialize 22
root         2     0  0 10:17 ?        00:00:00 [kthreadd]
root         4     2  0 10:17 ?        00:00:00 [kworker/0:0H]

(1.) UID: 有效用户名, 不一定是启动进程的用户ID
(2.) PPID: 父进程

4.查看该进程下有多少线程在工作, 需要添加-L参数
# ps -eLf
UID        PID  PPID   LWP  C NLWP STIME TTY          TIME CMD
root         2     0     2  0    1 10:17 ?        00:00:00 [kthreadd]
root         4     2     4  0    1 10:17 ?        00:00:00 [kworker/0:0H]
root         5     2     5  0    1 10:17 ?        00:00:01 [kworker/u2:0]

(1.) LWP: 表示该进程下有多少线程在工作

```



- pstree: 显示进程树

```bash
1.如果没有安装需要首先安装
# yum install psmisc

# pstree
systemd─┬─NetworkManager───2*[{NetworkManager}]
        ├─agetty
        ├─auditd───{auditd}
        ├─crond
        ├─dbus-daemon───{dbus-daemon}
        ├─firewalld───{firewalld}
        ├─lvmetad
        ├─master─┬─pickup
        │        └─qmgr
        ├─polkitd───6*[{polkitd}]
        ├─rsyslogd───2*[{rsyslogd}]
        ├─sshd───sshd───bash───pstree
        ├─systemd-journal
        ├─systemd-logind
        ├─systemd-udevd
        └─tuned───4*[{tuned}]
```

- top:动态的显示进程信息以及系统信息:

```bash
# top
1. 系统总体情况:
top - 13:55:35[启动时间] up  [3:38-启动了多长时间],  [1 user-几个用户登录],  load average: 0.01, 0.02, 0.05[平均负载: 1min, 5min, 15min系统负载]

2. Tasks: 系统进程信息
Tasks:  89 total[当前系统有89个进程],   1 running[一个在运行中],  88 sleeping[88休眠],   0 stopped,   0 zombie

3. Cpu(s): CPU使用情况
%Cpu(s):  5.6 us[5.6%用于用户状态计算],  5.6 sy[系统占用],  0.0 ni, 88.9 id[空闲状态],  0.0 wa[IO waite],  0.0 hi,  0.0 si,  0.0 st

当我们再top下按键1, 会显示每一个cpu的使用情况
%Cpu0  :  1.0 us,  0.3 sy,  0.0 ni, 98.7 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st
%Cpu1  :  1.0 us,  0.7 sy,  0.0 ni, 98.3 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st

4.Mem: 内存使用情况
KiB Mem :  1014824 total[总计内存],   482984 free[空闲内存],   119324 used[已经使用的内存],   412516 buff/cache[缓存]

5.Swap: 交换分区(虚拟内存):
KiB Swap:   839676 total,   839676 free,        0 used.   745880 avail Mem

6.动态监控(默认3秒),如果想更新为1s, 先输入s, 在输入1
  PID USER      PR  NI    VIRT    RES    SHR S %CPU %MEM     TIME+ COMMAND
12521 root      20   0  161888   2124   1528 R  6.7  0.2   0:00.03 top
    1 root      20   0  127940   6624   4120 S  0.0  0.7   0:01.32 systemd

7.过滤进程号
top -p xxx
```

- 进程启动方式

```bash
1. 默认我们进程的启动都是前台启动, 比如运行一个shell脚本
# ./xxx.sh

2. 后台启动, 后台启动我们需要添加一个参数&
# ./xxx.sh &

3. 前台启动切换到后台ctrl + z(挂起状态)

4. 后台进程切换到前台运行: 
# jobs (查看有几个后台挂起)

# fg xx(jobs列出进程的编号)
# bg xx(jobs列出进程的编号) 切换到后台运行

```

